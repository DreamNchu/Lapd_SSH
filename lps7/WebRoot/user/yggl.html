<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>员工状态 </title>
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="bower_components/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="bower_components/Ionicons/css/ionicons.min.css">
    <link rel="stylesheet" href="dist/css/AdminLTE.min.css">
    <link rel="stylesheet" href="dist/css/skins/skin-red.min.css">
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <script src="js/userJs.js"></script>
    <script src="js/ajax_js.js"></script>
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,700,300italic,400italic,600italic">
    <script type="text/javascript">
        function receiveData() {
            var userData={
                "user":[{"workId":"workId1","realName":"realName1","userName":"userName1","birthday":"birthday1","telephonePhone":"telephonePhone1","email":"email1","address":"address1","question":"question1","answer":"answer1","registerTime":"registerTime1","IDCardNo":"IDCardNo1"}
                ,{"workId":"workId2","realName":"realName1","userName":"userName1","birthday":"birthday1","telephonePhone":"telephonePhone1","email":"email1","address":"address1","question":"question1","answer":"answer1","`registerTime":"`registerTime1","IDCardNo":"IDCardNo1"}]
                , "page":[{"currentPage":"1","allCount":"10","allPage":"10"}],
                "transform":[{"back":"TestHref","front":"TestHref"}],
                "number":[{"value":"1","link":"TestHref"},{"value":"2","link":"TestHref"},{"value":"3","link":"TestHref"},{"value":"4","link":"TestHref"}]
            }
            showdata(userData);
        }
        function  sureRevise() {
            bootbox.confirm({
                message:"确认执行此操作？",
                callback :function (result) {
                    if(result==true){
                        submitOrder("TestAjax","userForm");
                    }
                }
            });
        }
        function deleteUser() {
            var userArray=document.getElementsByName("userCheckBox");
            var i;
            for(i=0;i<userArray.length;i++){
                if(userArray[i].checked==true){
                    break;
                }
                if(i==userArray.length-1){
                    bootbox.alert("请选择员工",function () {});
                    return ;
                }
            }
            bootbox.confirm({
                message:"是否删除选中数据",
                callback :function (result) {
                    if(result==true){
                        submitOrder("TestAjax","userShow");
                    }
                }
            });
        }
        function editUser() {
            var userArray=document.getElementsByName("userCheckBox");
            var i,count=0,op;
            for(i=0;i<userArray.length;i++){
                if(userArray[i].checked==true){
                    count++;
                    if(count==2){
                        bootbox.alert("只能选择一个员工修改",function () {});
                        return false;
                    }
                }
                if(i==userArray.length-1&&count==0){
                    bootbox.alert("至少选择一个员工",function () {});
                    return false;
                }
            }
            submitOrder("TestAjax","userShow");
            var userData={
                "user":[{"workId":"workId1","realName":"realName1","userName":"userName1","birthday":"birthday1","telephonePhone":"telephonePhone1","email":"email1","address":"address1","question":"question1","answer":"answer1","registerTime":"registerTime1","IDCardNo":"IDCardNo1"}]
            }
            var workId=document.getElementById("workId");
            var realName=document.getElementById("realName");
            var userName=document.getElementById("userName");
            var birthday=document.getElementById("birthday");
            var telephonePhone=document.getElementById("telephonePhone");
            var email=document.getElementById("email");
            var address=document.getElementById("address");
            var question=document.getElementById("question");
            var answer=document.getElementById("answer");
            var registerTime=document.getElementById("registerTime");
            var IDCardNo=document.getElementById("IDCardNo");
            workId.value=userData.user[0].workId;
            realName.value=userData.user[0].realName;
            userName.value=userData.user[0].userName;
            birthday.value=userData.user[0].birthday;
            telephonePhone.value=userData.user[0].telephonePhone;
            email.value=userData.user[0].email;
            address.value=userData.user[0].address;
            question.value=userData.user[0].question;
            answer.value=userData.user[0].answer;
            registerTime.value=userData.user[0].registerTime;
            IDCardNo.value=userData.user[0].IDCardNo;
            $("#myModal").modal("show");
        }
        window.onload=function () {
            receiveData();
        }
    </script>
</head>

<body class="hold-transition skin-red sidebar-mini">
<div class="wrapper">
    <header class="main-header" style="background-color: #333333">

    </header>
    <aside class="main-sidebar" style="background-color: #555555">

    </aside>

    <div class="content-wrapper">
        <section class="content-header">
            <h1>
                员工管理
            </h1>
            <ol class="breadcrumb">
                <li><a href="#"><i class="fa fa-dashboard"></i>2017-11-27-18-19</a></li>
            </ol>
        </section>
        <section class="content container-fluid">
            <div class="row">
                <div class="col-xs-12">
                    <div class="box">
                        <div class="box-header">
                            <hr>
                            <button class="btn btn-info"  data-toggle="modal" data-target="#myModal"><span class="glyphicon glyphicon-plus"></span>增加员工</button>
                            <button class="btn btn-info" id="divisonbutton" onclick="deleteUser()"><span class="glyphicon glyphicon-remove"></span>删除员工</button>
                            <button class="btn btn-info" id="editbutton" onclick="editUser()"><span class="glyphicon glyphicon-wrench"></span>修改员工</button>
                            <button class="btn btn-info" id="allChecked" onclick="allChecked()"><span class="glyphicon glyphicon-ok"></span>全选</button>
                            <button class="btn btn-info" id="allUnChecked" onclick="allUnChecked()"><span class="glyphicon glyphicon-remove"></span></span>全不选</button>
                            <button class="btn btn-info" id="opposeChecked" onclick="opposeChecked()"> <span class="glyphicon glyphicon-refresh"></span>反选</button>
                            <hr>
                        </div>
                        <div class="box-body table-responsive no-padding">
                            <form id="userShow">
                            <table class="table table-hover" id="dataTable">
                                <thead>
                                    <th></th>
                                    <th>工号</th>
                                    <th>姓名</th>
                                    <th>用户名</th>
                                    <th>出生日期</th>
                                    <th>电话号码</th>
                                    <th>电子邮箱</th>
                                    <th>家庭地址</th>
                                    <th>密保问题</th>
                                    <th>密保答案</th>
                                    <th>注册时间</th>
                                    <th>身份证号</th>
                                </thead>
                            </table>
                            </form>
                            <div class="box-footer clearfix">
                                <lable style="font-family: 仿宋;color: #4cae4c;font-size: 20px">共<span id="allCount"></span>条数据-共<span id="allPage"></span>页-当前第<span id="currentPage"></span>页</lable>
                                <ul id="hrefId" class="pagination pagination-sm no-margin pull-right">
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">
                            &times;
                        </button>
                        <h4 class="modal-title" id="myModalLabel">
                            修改订单
                        </h4>
                    </div>
                    <form id="userForm">
                        <div class="modal-body">
                            <div class="form-group" >
                                <label>工号</label>
                                <input type="text" name="workId" id="workId" class="form-control" >
                                <label>姓名</label>
                                <input type="text" name="realName" id="realName" class="form-control" >
                                <label>用户名</label>
                                <input type="text" name="userName" id="userName" class="form-control" >
                                <label>出生日期</label>
                                <input type="date" name="birthday" id="birthday" class="form-control" >
                                <label>电话号码</label>
                                <input type="tel" name="telephonePhone" id="telephonePhone" class="form-control" >
                                <label>电子邮箱</label>
                                <input type="email" name="email" id="email" class="form-control" >
                                <label>家庭地址</label>
                                <input type="text" name="address" id="address" class="form-control" >
                                <label>密保问题</label>
                                <input type="text" name="question" id="question" class="form-control" >
                                <label>密保答案</label>
                                <input type="text" name="answer" id="answer" class="form-control" >
                                <label>注册时间</label>
                                <input type="text" name="registerTime" id="registerTime" class="form-control" >
                                <label>身份证号</label>
                                <input type="text" name="IDCardNo" id="IDCardNo" class="form-control" >
                            </div>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-default" data-dismiss="modal">关闭
                            </button>
                            <input type="button" onclick="sureRevise()" value="确定" class="btn btn-primary">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>



    <aside class="control-sidebar control-sidebar-dark">

    </aside>
    <div class="control-sidebar-bg"></div>
</div>


<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="dist/js/adminlte.min.js"></script>
<script src="js/bootbox.min.js"></script>
</body>
</html>